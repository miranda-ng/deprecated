Mail.ru Агент плагин для Miranda IM

Copyright (C) 2006-2011 Рожук Иван


 Плагин предназначен для общения по протоколу Mail.ru Агент.


 ВНИМАНИЕ!
 В плагине добавляющая синхронизация!
 Если вы загрузили в свой профиль список а потом поменяли логин и пароль, то
к вам скачается список второго акаунта, а на сервер скачается список первого, и
авторизация будет автоматически запрошенна у всех, кого дабавили на сервер.

 Для корректной работы антиспама нужно заполнить список плохих слов.

 Полноценная поддержка групп на сервере будет позже.
 Игры - не документировались, в случае документирования могу сделать только API для них.
 (Желающие сделать плагины для игр - обращатся приватом)



Плагины добавляющие функциональность
Здесь указаны только плагины, которые более полно раскрывают возможности протокола mail.ru Агент заложенные в плагин MRA
 PopUp - через него показываются различные уведомления, в том числе ошибки, предупреждения и уведомления о новой почте.
 mToolTip/Tipper - для показа дополнительно информации о контакте. См ниже шаблоны.
 SMS (sms.dll) - для отправки СМС сообщений и отображения ответов. Ответы также можно посмотреть в history++
 Nudge (nudge.dll) - функция будильника. Без него не будет кнопочки в диалоге и окно не будет трястись когда собеседник вас встряхивает, однако останется пункт в меню контакта и будет записыватся текстовое сообщение о том что собеседник пытается вас разбудить.
 WATrack (watrack.dll) - позволяет MRA оперативно обновлять на сайте то что играет у пользователя. Что бы смотреть что играет у собеседников этот плагин не нужен.



Поддержка RTF (форматированного текста)
 Для поддержки форматированного текста нужно:
- zlib.dll, без неё плагин не сможет распаковывать и запаковывать текст для передачи по сети, также нужна для флеш мультов (при приёме с ориг агента)
- tabsramm и history++ плагины, в настройках tabsramm указываем использовать history++ для отображения,
в настройках history++ включаем поддержку RTF


Теперь о приятном:

 Пользователи look-in плагина, и других работающих с информацией контакта, MRA плагин записывает информацию так же как и ICQ.
 В настройках look-in плагина укажите использовать для MRA шаблон от ICQ.

 При передаче файлов можно указать описание к файлу, но пользователи агента его не увидят ;)

 Расширенный поиск позволяет искать не только по России, но и по другим странам, с возможностью выбора города/штата.

 Также желательно иметь Updater для своевременного автоматического обновления.

 Прокси настраивается в настройках сети (Network), раздельно: для обмена
сообщениями и для загрузки аватар.

 Основной список и списки видимости, невидимости и игнор работают.
 Для того, чтобы добавить пользователя в игнор на сервере достаточно в настройках
миранды поставить игнор на его СООБЩЕНИЯ, если поставить игнор на другие события от
пользователя, то в игнор на сервере он не добавится и вы будете по прежнему получать
от него все другие типы сообщений, например запросы на авторизацию, контакты и пр.
 При добавлении пользователя в игнор, он из списка не исчезнет, чтобы он исчез из списка нужно снять напротив него галочку в списке игнора. Агент от Mail.ru одновременно с игнорированием скрывает пользователя из основного списка.

 При запросе на авторизацию, если нажать на Deny, то пользователь автоматически не добавляется в игнор ни на сервере ни локально, но можно послать ему сообщение в появившемся окошке для ввода причины отказа.

 You were added - означает что вас авторизовали.

 Запрос на авторизацию посылается автоматически, при добавлении в список (так устроен протокол: комманда добавления в список на сервере автоматически генерирует запрос на авторизацию, если пользователя ещё не было в списке на сервере).


 Скрытые опции:
	"MRA"
"NLBFailDirectConnect"(byte)=0
В случае сбоя NLB сервера попытатся подключится напрямую к серверам mrim1.mail.ru - mrim8.mail.ru
По умолчанию отключено.

"UseDisplayModuleName"(byte)=1
Использовать имя протокола в качестве отображаемоемого названия
Требуется перезапуск.
По умолчанию включено.

"MirVerCustom"(str)=NULL
Передавать заданную пользователем строку идентификации программы (которая отображается у собеседника), примеры:
{client="magent" version="5.3" build="2544"}
{client="jagent" version="2.1.8"}
{client="QIP Infium" version="2.0" build="9024"}
{client="magent" name="Miranda IM" title="Miranda IM 0.8.0.27 Unicode (MRA v1.16.0.4), version: 1.16" version="777.1.16.0" build="4" protocol="1.16"}
(значение переменной писать в базу без {} в начале и конце строки)

"MirVerRaw"(byte)=0
Писать "MirVer" без форматирования, как выдаёт сервер, получается больше информации.
По умолчанию отключено.

"ConnectReTryCountMRIM"(dword)=2
Колличество попыток подключится к серверу сообщений

"ConnectReTryCountNLB"(dword)=3
Колличество попыток подключится к серверу балансировки нагрузки

"ConnectReTryCountFileSend"(dword)=2
Колличество попыток подключится к ссобеседнику

"ConnectReTryCountMRIMProxy"(dword)=3
Колличество попыток подключится к ссобеседнику

"TimeOutConnectMRIM"(dword)=16 *прим 1
Время в секундах, в течении которого миранда ждёт ответа на подключение от сервера собщений
2-16 секунд.

"TimeOutConnectNLB"(dword)=16 *прим 1
Время в секундах, в течении которого миранда ждёт ответа на подключение от сервера балансировки нагрузки
2-16 секунд.

"TimeOutReceiveNLB"(dword)=20 *прим 1
Время в секундах, в течении которого миранда ждёт данных от сервера балансировки нагрузки
По умолчанию 20 секунд.

"TimeOutConnectFileSend"(dword)=auto *прим 1
Время в секундах, в течении которого миранда ждёт ответа на подключение от собеседника
Агент ждёт что к нему подключатся в течении 30 секунд, большое значение ставить смысла нет.
Не забывайте, что у собеседника может быть медленное подключение.
2-16 секунд.
По умолчанию auto секунд (= 30/колличество адресов к которым подключатся).

"TimeOutReceiveFileData"(dword)=600 *прим 1
Время в секундах, в течении которого миранда ждёт содержимое файла от собеседника
Не забывайте, что у собеседника может быть медленное подключение.
По умолчанию 600 секунд.

*прим 1: Для медленных/не устойчивых соединений (особенно GPRS) рекомендуется поставить на максимум.
На быстрых соединениях, где не теряются пакеты, можно уменьшить до 5 секунд и менее.
0 - ожидать не ограниченно долго в случае чтения или использовать системныые значения при подключении

*прим 2: При передаче файлов общий таймаут на все соединения =30 секунд, если поставить колличество
попыток подключения большим, то таймауты на каждое соединения снизятся до минимально возможных 2 секунд.
Аналогично дела обстоят с MRIM прокси тайаутами.
Для подключений к серверам майла (MRIM, NLB, Avatars) заданный таймаут применяется целиком для каждой
попытки подключения.



	"MRA Avatars"
"DefaultAvatarFileName"(str)="_default.jpg"
Имя файла, используемое в качестве аватара по умолчанию.

"WorkThreadsCount"(dword)=4
Колличество потоков для загрузки аватров.
Определяет сколько одновременно аватаров может скачиватся с сервера: от 1 до 64.
По умолчанию 4.

"ConnectReTryCount"(dword)=3
Колличество попыток подключится к серверу аватаров

"TimeOutConnect"(dword)=16
Время в секундах, в течении которого миранда ждёт ответа на подключение от сервера аватаров
Не забывайте, что у вас может быть медленное подключение.
2-16 секунд.

"TimeOutReceive"(dword)=30
Время в секундах, в течении которого миранда ждёт ответа от собеседника сервера аватаров
По умолчанию 30 секунд.



Шаблон для mToolTip:
%sicon%photo
%#%lsstatus|%%%%|, %lsday|%%%%|.%lsmonth|%%%%|.%lsyear|%%%%| @ %lshours|%%%%|:%lsminutes|%%%%|:%lsseconds|%%%%|
%#<b>%lname|%%%%|</b> (%first|%%%%| %last|%%%%|%gender|, %%%%|)
%#<b>Online since:</b>%tab%logondate|%%%%| @ %logontime|%%%%|  (%logonsince|%%%%|)
%%<b>Email:</b>%tab%tab%mail|%%%%|
%%<b>Phone:</b>%tab%phone|%%%%|
%%<b>Cellular:</b>%tab%cell|%%%%|
%#<b>Age:</b>%tab%tab%age|%%%%| (%bday|%%%%|.%bmonth|%%%%|.%byear|%%%%|)%dtb|, to birthday: %%%%|
%%<b>Location:</b>%tab%user_About|%%%%|
%#<b>Сlient:</b>%tab%tab%mver|%%%%|
%#<b>IP:</b>%tab%tab%ip|%%%% |%realip|(%%%%)|
%#<b>Last info time:</b>%infodate|%%%%| @ %infotime|%%%%|
%%<b>Avatar upd time:</b> %user_MRAAvatarLastModifiedTime|%%%%|
%#%smsg||%user_XStatusName||%user_XStatusMsg||%line%
%%%user_XStatusName||
%%<b>X-Status:</b> %user_XStatusName|%%%%|
%%<b>X-status message:</b> %user_XStatusMsg|%%%%|
%%<b>Blog message:</b> %smsg||%smsg|%%%%|
%%<b>Listening:</b> %user_ListeningTo|%%%%|
%%%notes||————————————————————————————————————
%%<b>Notes:</b>%notes||
%%%notes|%%%%|
%%Logging:%tab%ilog|%%%%|
%#%lastmsg||%lastmsgdate||%lastmsgtime||————————————————————————————————————
%#<b>Last message (%lastmsgdate|%%%%| @ %lastmsgtime|%%%%|):%lastmsg||</b>
%#%lastmsg|%%%%|%lastmsgdate||%lastmsgtime||

в файл mToolTip.ini добавить:
[MRAAvatarLastCheckTime]
DBSet=AvatarLastCheckTime
DBTrans=1

[MRAAvatarLastModifiedTime]
DBSet=AvatarLastModifiedTime
DBTrans=1

[MRABlogStatus]
DBSet=BlogStatus

[ListeningTo]
DBSet=ListeningTo

[XStatusName]
DBSet=XStatusName

[XStatusMsg]
DBSet=XStatusMsg

[About]
DBSet=About



Шаблон для Tipper YM от Black Roland ( http://www.rozhuk.org.ru/forum/index.php?action=profile;u=142 )
http://www.rozhuk.org.ru/forum/index.php?topic=3.msg840#msg840



Change Log:

Version 1.20.0.1 // 2008.10
 - Портабельность в x64
 - Добавлена поддержка отображения записей микроблога (как mode message)
 - Добавлена поддержка отправки записей в микроблог: свой через главное меню, ответ через контекстное меню контакта
 - Добавлена поддержка чата (конференций)
 - Добавлен поиск по городам, сохранение параметров поиска
 - Добавлен статус: знакомлюсь
 - Добавлена поддержка Extra Icons Service (extraicons.dll) плагина
 - Добавлена поддержка WATrack (watrack.dll) плагина
 - Добавлена поддержка ListeningTo протокола/расширения
 - Добавлена поддержка обмена файлами более 4Гб
 - Добавлена обработка анси флага в сообщениях
 - Добавлена опция в фильтр спама для игнорирования всего, кроме букв и цифр при проверке сообщения
 - Добавлена опция в фильтр спама, позволяющая задать максимальное колличество смен языков (для случаев когда заменяют русские буквы на сходные по отображению иностранные)
 - Добавлен WatchDog: если основной поток завершится с ошибкой - плагин перейдёт в оффлайн, если основной поток не оветит в течении минуты то будет уничтожен и плагин перейдёт в оффлайн
 - Увеличена скорость проверки сообщений антиспамом
 - Добавлены скрытые опции на колличество попыток исходящего подключения
 - Улучшена поддержка аватаров: изменён путь для кеша аватаров на %miranda_avatarcache%; проверки на обновление аватаров при каждой смене онлайн статуса, но не чаще, чем в настройках
 - Улучшен алгоритм поиска вспомогательных библиотек (zlib.dll, xstatus_MRA.dll)
 - Уменьшено колличество обращений к базе при неудачных попытках подключения
 - Пароль можно только установить, не отображается даже количество символов в диалоге настройки учётной записи
 - Во всех меню и IcoLib используется юникод
 - Иконки в IcoLib рассортированны по секциям
 - Иконки Х-статусов добавлены в IcoLib
 - Иконки Х-статусов и доп инфы разнесены в разные слоты, чтобы не перекрывать друг друга
 - "BlogStatusMusic" переименовано в "ListeningTo"
 - Пароль в базе хранится в шифрованном виде, для предотвращения использования утилит вытаскивающих пароль с базы и хищения паролей вирусами
 - Уменьшен размер за счёт удаление всего CRT кода и сишных библиотек, сжата географическая база расширенного поиска
 - В диалоге поиска и инфе контакта корректно выставляется возраст
 - QueueUserAPC больше не используется, попапы показываются из основного потока
 - Исправлен недочёт с некорректными именами файлов при приёме
 - Исправлен недочёт, когда в некоторых случаях плагин не мог переподключится до перезапуска миранды
 - Исправлено: с некоторыми версиями ядра плагин не мог найти библиотеку иконок х-статусов
 - Исправлено: не подставлялся адрес почты, в случаях когда у контакта несколько почтовых ящиков
 - Исправлено: антиспам мог удалить контакта из списка, в случае когда при логоне не был получен список пользователей с сервера
 - Исправлено: после обновления информации контакта, если его ящик удалён с сервера - появится соотвествующая иконка
 - Исправлено: при отсутствии xstatus_MRA.dll отображались произвольные иконки (demon_lite)
 - Исправлено: аватары автоматически не обновлялись
 - Исправлено: при запуске некоторые плагины устанавливали время последнего изменения статуса на время запуска миранды
 - Исправлено: не удавалось принять файл на 0.8.0.30 и более поздних версиях миранды
 - Исправлено: работа с псевдонимом (ником) контакта, который хранится на сервере: в агенте могли отображатся каракули после переименования контакта в миранде
 - Исправлено: при приёме/отправке SMS сообщений не производилось кодирование спец символов для XML
 - Исправлено: скрытая опция MirVerCustom не срабатывала
 - Исправлено: короткие пароли невозможно было сохранить

Version 1.16.0.3 // 2008.09.16
 - Поддержка Unicode протоколом
 - Поддержка Folders плагина
 - Добавлена опция: Пожаловатся на спам
 - Автоматически определяется собственный внешний IP адрес
 - Автоматически запрашивается информация и загружается автар для новых контактов
 - Оптимизация работы с иконками, спасибо Г. Хазан
 - В уведомлении о новой почте отображается аватарка и доп элементы управления, если отправитель в списке
 - В уведомлении об изменении невидимости отображается аватарка и доп элементы управления
 - В уведомлении блокированном как спам сообщении можно прочитать само сообщение
 - Исправлена критическая ошибка, которая могла происходить после обмена файлами или при завершении приложения
 - Исправлен недочёт: когда происходила ошибка при передаче файла миранда не сообщала об ошибке и продолжала находится в состоянии установления подключения
 - Оптимизирована обработка сообщений
 - Полностью обновлён алгоритм получения оффлайновых сообщений


Version 1.14.0.6 // 2008.02
 - Поддержка Unicode плагином

Version 1.14.0.5 // 2008.01.30
 - Совместимость в 0.8 ядром миранды
 - Исправлено: затиралась версия клиента при отключении
 - Исправлено: вместо "Чат" выставлялся статус "Не беспокоить"
 - другие мелкие исправления и улучшения

Version 1.14.0.3 // 2008.01.20
 - Добавлена поддержка расширеных статусов
 - Добавлена поддержка текстовых статусных сообщений
 - Добавлено определение версии клиента собеседника через сервер
 - Добавлен пункт меню для видео
 - Добавлен пункт меню для ответов
 - Добавлен пункт меню для мира
 - Доработана отправка мультов
 - Доработана отправка будильника
 - Изменён формат номера при отправке SMS сообщений
 - Изменена строка идентификации клиента (User agent), для статистики на сервере
 - Исправлена отправка открыток

Version 1.13.29.1 // 2007.08.10
 - Добавлена поддержка передачи файлов через прокси сервер mail.ru
 - Оповещение новой почты показывает раширенную информацию
 - Изменена работа с авторизацией: добавлено сообщение запроса, сообщения оторажаются
 - Добавлены опции для автоматической раздачи авторизации
 - Добавлена опция Click to Inbox (Проверить почту щелчком)
 - zlib: загружается динамически (убран из кода)
 - zlib: используется самый высокий уровень сжатия (9, вместо 6)
 - Изменена работа спам фильтра: фильтруется всё, кроме: системных сообщений, контактов, смс сообщений/отчётов о доставке, будильника и уведомлений о наборе текста
 - Улучшена совместимость с clist_modern
 - Изменена работа со списком на сервере: не обновляются данные контактов в профиле при каждом входе
 - Дополнительные телефонные номера сохраняются с сервера в список, при добавлении контакта
 - Увеличена скорость загрузки/обновления аватаров
 - При использование HTTPS прокси, порт заменяется на 443 (те игнорируется настройка порта в плагине)
 - Уменьшена нагрузка на основной поток миранды
 - Пополнен спам фильтр
 - Исправлена ошибка: иногда протокол повторно не переподключался до перезапуска миранды


Version 1.8.0.27 // 2007.02.24
 - Улучшена поддержка RTF на передачу
 - Исправлено: падение при получении некоторых сообщений с включённым антиспамом
 - Исправлено: отображение пунктов меню для контактов

Version 1.8.0.25 // 2007.02.20
 - Ипользуются новые сервисы миранды (минимум 0.6.0.100 версия)
 - Улучшена работа с сетью: добавлены таймауты операций
 - Добавлена поддержка игр (собеседник получает отказ автоматически :))
 - Добавлены уведомления, в том числе затрагивающие невидимость
 - Добавлена опция: Smart RTF - Умная отправка (только если клиент понимает RTF)
 - Добавлены коды и подробные описания ошибок
 - Добавлены опции для антиспама
 - Уведомление о доставке сообщений признаных спамом не отправляется
 - Список антиспама по умолчанию дополнен
 - Корректно записывается версия миранды, плагина собеседника и наличие Secure IM
 - Исправлено падение при обмене файлами
 - и другие добавления, изменения и исправления

Version 1.8.0.23
 - Добавлен антиспам
 - Добавлена поддержка RTF на приём, см http://community.livejournal.com/ru_mirandaim/494383.html
 - Улучшен конвертер исходящих сообщений в RTF: поддержка BB кодов (спасибо MadBrozzeR)
 - Добавлена поддержка приёма сообщений Будильника (для отправки нужен Nudge плагин) и флеш мультиков (нужен обновлёный набор смайлов)
 - Добавлена поддержка плагина Nudge (для будильника)
 - Добавлено определение версии клиента собеседника
 - Добавлен скрытый параметр "UseDisplayModuleName"
 - Изменён алгоритм приёма (актуально для очень медленных и не устойчивых подключений и при большом контакт листе - около 1000 контактов)
 - Повторяющиеся контакты фильтруются (больше нет предупреждения из за службы поддержки)
 - Изменён алгоритм подключения: плагин не подключается, если не введён логин и пароль

Version 1.8.0.21
 - Отправка SMS и получение ответов (требуется SMS.dll 0.2.4.9 и старше, см форум)
 - Табы в настройках, добавленны опции
 - Настройки попапов
 - Иконка в трее при получении новой почты
 - Совместимость со StartupStatus
 - Собственный аватар отображается сразу после загрузки
 - Изменён алгоритм загрузки аватаров для экономии траффика
 - Оптимизированы конвертеры текста
 - Исправлено: индикатор при передаче/приёме файла мог не доходить до 100%, но файл передавался полностью
 - Исправлено: подсчёт возраста в диалоге рассширенного поиска
 - Исправлено: алгоритм подключения, в том числе немедленное отключение при налиции пустого MRA контакта
 - Исправлено: временные контакты больше не добавляются в список на сервер

Version 1.8.0.19 // 2006.07.19
 - Добавлена поддержка IcoLib
 - Показывается собственный аватар (загружается при логоне)
 - Появилась возможность загружать несколько копий плагина
 - "View Alboom" переименовано в "View Album"
 - Иконки заменены более качественными, спасибо Михаилу Юрьеву
 - Добавлена расширенная иконка для "Телефонных" контактов
 - Телефонные контакты временно отключены (не будут отображатся)
 - Исправлен алгоритм подключения и работы со статусом

Version 1.8.0.17 // 2006.07.14
 - Не правильно работал игнор, ПРОВЕРЬТЕ ВАШ ИГНОР ЛИСТ!
 - В окошке выбора e-mail записи больше не дублируются
 - Пункты меню не скрывались для контактов у которых нет e-mail
 - Не работали меню для своего альбома и блога
 - При добавлении контакта посылалось два запроса
 - Закреплена 1251 станица для конвертирования из юникодов

Version 1.8.0.15
 - Добавлен пункт меню, позволяющий обновить информацию у всех контактов MRA
 - Добавлен пункт меню, позволяющий обновить образы (аватарки) у всех контактов MRA
 - Добавленна поддержка юникодов для ников (исправленна проблема с переименованием контактов, тестировалось на clist_mw.dll, clist_modern.dll - возможны проблемы.)
 - Убраны проблемы совместимости с плагинами, которые считают что плагин не в сети (NewStatusNotify и проч)
 - Отправлять открытки теперь можно любому контакту у которого есть email
 - Можно смотреть фотоальбом и читать блог любого контакта, у которого прописан email относящийся к mail.ru
 - Мелкие изменения (перманентное добавление в список - контакты оказывались скрытыми)
 - Номера записываются раздельно: Основной телефон=primary, Доп. телефон 1=сотовый, Доп. телефон 2=факс

Version 1.8.0.13 // 2006.06.23
 - Устранена утечка ресурсов при обновлении аватарок
 - Изменён алгоритм переименовая контактов на сервере - меньше проблем с юникодами

Version 1.8.0.11 // 2006.06.16
 - Добавлен пункт меню для быстрого входа в чат
 - Добавлена расширенная иконка для контактов чьи ящики удалены с сервера
 - Уточнены сообщения выводимые при передаче/приёме файлов

Version 1.8.0.9 // 2006.06.12
 - Экстра иконки контактов других плагинов теперь не затираются
 - Изменен набор опций для передачи файлов

Version 1.8.0.7 // 2006.05.28
 - Добавлены экстра иконки для тех кто не авторизовал и кого нет в списке на сервере
 - Исправлена ошибка, возникавшая при передаче более, чем одного файла
 - Улучшен алгоритм передачи файлов
 - Добавлена опция позволяющая отключить автоматическое добавление контактов на сервер
 - Добавлен пункт меню, позволяющий запросить автоматически авторизацию у всех, кто ещё не атворизовал

Version 1.8.0.5 // 2006.05.26
 - Улучшен алгоритм подключения: в случае сбоя NLB сервера начинаются попытки подключения напрямую к серверам mrim1.mail.ru - mrim8.mail.ru

Version 1.8.0.3 // 2006.04.03
 - Измён алгоритм расчёта времени оффлайновых сообщений
 - Аватар по умолчанию больше не удаляется при удалении контактов
 - Добавлена опция для отключения загрузки аватар из сети
 - Добавлена опция позволяющая скрыть свой IP адрес при обмене файлами (отправляется 192.168.0.1:26775, возможно из за этого не удастся обменятся файлами)
 - Добавлена опция позволяющая указать дополнительные адреса и порты (может пригодится тем кто за NAT и тп)
 - Добавлена опция опция позволяющая задать порт для обмена файлами (в некоторых случаях нельзя будет принимать/передавать более, чем одному человеку одновременно)

Version 1.8.0.1 // 2006.03.16
 - Полная поддержка передачи файлов
 - Мелкие изменения

Version 1.0.0.33 // 2006.03.11
 - Добавлена поддержка зеркальных соединений
 - Добавлена запись в базу "MirVer", для лучшей совместимости с fingerprint
 - Исправлена ошибка при отправке сообщений с включённым преобразованием смайликов

Version 1.0.0.31 // 2006.03.05
 - Профиксена обработка анкетных данных
 - "Undefined message deliver error" - больше не появляется

Version 1.0.0.29 // 2006.02.17
 - Реализовано получение файлов
 - Аватары заработали через прокси (спасибо Yuri Ermakov)
 - Преобразование смаликов в теги для отправляемого текста можно отключить совсем

Version 1.0.0.27 // 2006.01.27
 - Улучшена работа со списком на сервере
 - Улучшен алгоритм поиска контактов

Version 1.0.0.25 // 2006.01.17
 - Пустой аватар больше не скачивается, показывается: MRA\_default.jpg
 - По умолчанию файл аватара удаляется при удалении контакта
 - Убрана зависимость от msvcr70.dll

Version 1.0.0.23 // 2006.01.16
 - Исправлено преобразование смайлов в теги.

Version 1.0.0.21 // 2006.01.15
 - Добавлено прозрачное преобразование смайлов в теги и обратно, в тч для обычного текста

Version 1.0.0.19 // 2006.01.15
 - Добавлена поддержка RTF сообщений на отправку, и смайлов отображаемых в агенте
 - Добавлена настройка указывающая плагину возвращать полный путь к файлу аватара
 - Добавлен пункт меню для быстрого доступа к собственному фотоальбому
 - Улучшен алгоритм подключения (получение информации от NLB сервера)
 - "Запрос на авторизацию" и уведомление "Вас добавили" записываются в системную историю
 - Отправить открытку работало не для всех пользователей

Version 1.0.0.17 // 2006.01.13
 - Улучшена работа на быстрых соединениях

Version 1.0.0.15 // 2006.01.10
 - Исправленно: уведомление "вам пишут" воспринималось как сообщение (только в 1.0.0.11)

Version 1.0.0.11 // 2006.01.10
 - Добавлен пункт меню для быстрого доступа к собственному блогу
 - Добавлен пункт меню для Zhuki.mail.ru
 - Более корректно вычисляется возраст
 - Очистка очереди не отправленных/не доставленных сообщений

Version 1.0.0.9 // 2006.01.07
 - TzSpecificLocalTimeToSystemTime больше не используется, для совместимости с Microsoft Windows 2000

Version 1.0.0.7 // 2006.01.06
 - Теперь статус ящика можно посмотреть через пунк в меню (количество не прочитанных/всего сообщений)
 - Добавлен звук при приходе новой почты
 - Можно быстро отправить поздравительную открытку, добавлен пункт меню
 - Добавлен пункт меню для чтения блога пользователя
 - Добавлен поиск в вебе от Mail.ru
 - Улучшена обработка списка с сервера, при первом запуске: автоматичеки загружается информация и аватары
 - Исправлено: в расширенном поиске требовалось задать город

Version 1.0.0.5 // 2006.01.03
 - Убрано сообщение о неверных данных для временных контактов.
 - Более корректно выставляется статус.
 - Улучшен алгоритм подключения.
 - "MRA_proto.dll" переименован в "proto_MRA.dll".
 - Список стран сортируется по алфавиту.

Version 1.0.0.3 // 2005.12.31
 - Первый публичный релиз